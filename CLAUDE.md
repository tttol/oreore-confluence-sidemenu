# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview
Google Chrome extension that customizes Confluence sidemenu by manipulating DOM elements when Confluence pages are loaded.

## Key Requirements
- Target platform: Google Chrome Extension (Manifest V3)
- Primary functionality: Detect Confluence pages and modify specific DOM elements in the sidemenu
- Target URL pattern: `*://*.atlassian.net/*`
- See `doc/requiments.md` for detailed requirements in Japanese

## Development Setup

### Initial Setup
```bash
npm install
```

### Build Commands
- `npm run build` - Build the extension for production
- `npm run watch` - Build in watch mode for development
- `npm run clean` - Remove dist directory

### Loading Extension in Chrome
1. Run `npm run build` to create the `dist/` directory
2. Open Chrome and navigate to `chrome://extensions/`
3. Enable "Developer mode"
4. Click "Load unpacked" and select the `dist/` directory

## Project Structure
```
src/
├── content/
│   └── index.ts        # Content script entry point (runs on Confluence pages)
├── background/         # Background scripts (if needed)
└── manifest.json       # Chrome extension manifest

dist/                   # Build output (generated by webpack)
webpack.config.js       # Webpack configuration
tsconfig.json          # TypeScript configuration
```

## Architecture Notes
- **Content Script**: `src/content/index.ts` is injected into Confluence pages at `document_end`
- **Build System**: Uses webpack to bundle TypeScript code
- **Type Safety**: TypeScript with strict mode enabled
- The extension uses Manifest V3 format
